GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 1


   1               		.file	"main.c"
   2               		.arch atmega2561
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	SysInitIO
  12               		.type	SysInitIO, @function
  13               	SysInitIO:
  14               	/* prologue: frame size=0 */
  15               	/* prologue end (size=0) */
  16 0000 87EF      		ldi r24,lo8(-9)
  17 0002 84B9      		out 36-0x20,r24
  18 0004 8CE0      		ldi r24,lo8(12)
  19 0006 8AB9      		out 42-0x20,r24
  20 0008 8BB1      		in r24,43-0x20
  21 000a 8C70      		andi r24,lo8(12)
  22 000c 836F      		ori r24,lo8(-13)
  23 000e 8BB9      		out 43-0x20,r24
  24 0010 8EE8      		ldi r24,lo8(-114)
  25 0012 8DB9      		out 45-0x20,r24
  26 0014 8EB1      		in r24,46-0x20
  27 0016 8E78      		andi r24,lo8(-114)
  28 0018 8160      		ori r24,lo8(1)
  29 001a 8EB9      		out 46-0x20,r24
  30 001c 85B7      		in r24,85-0x20
  31 001e 8068      		ori r24,lo8(-128)
  32 0020 85BF      		out 85-0x20,r24
  33 0022 85B7      		in r24,85-0x20
  34 0024 8068      		ori r24,lo8(-128)
  35 0026 85BF      		out 85-0x20,r24
  36 0028 8EE0      		ldi r24,lo8(14)
  37 002a 80BB      		out 48-0x20,r24
  38 002c 81B3      		in r24,49-0x20
  39 002e 8E70      		andi r24,lo8(14)
  40 0030 816F      		ori r24,lo8(-15)
  41 0032 81BB      		out 49-0x20,r24
  42 0034 88E1      		ldi r24,lo8(24)
  43 0036 83BB      		out 51-0x20,r24
  44               	/* epilogue: frame size=0 */
  45 0038 0895      		ret
  46               	/* epilogue end (size=1) */
  47               	/* function SysInitIO size 29 (28) */
  48               		.size	SysInitIO, .-SysInitIO
  49               		.data
  50               	.LC0:
  51 0000 5561 7274 		.string	"Uart"
  51      00
  52               	.LC1:
  53 0005 4865 6C6C 		.string	"Hello"
  53      6F00 
  54               		.text
  55               	.global	NutAppMain
GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 2


  56               		.type	NutAppMain, @function
  57               	NutAppMain:
  58               	/* prologue: frame size=24 */
  59 003a EF92      		push r14
  60 003c FF92      		push r15
  61 003e 0F93      		push r16
  62 0040 1F93      		push r17
  63 0042 CF93      		push r28
  64 0044 DF93      		push r29
  65 0046 CDB7      		in r28,__SP_L__
  66 0048 DEB7      		in r29,__SP_H__
  67 004a 6897      		sbiw r28,24
  68 004c 0FB6      		in __tmp_reg__,__SREG__
  69 004e F894      		cli
  70 0050 DEBF      		out __SP_H__,r29
  71 0052 0FBE      		out __SREG__,__tmp_reg__
  72 0054 CDBF      		out __SP_L__,r28
  73               	/* prologue end (size=14) */
  74 0056 0E94 0000 		call WatchDogDisable
  75 005a 84E6      		ldi r24,lo8(100)
  76 005c 0E94 0000 		call NutDelay
  77 0060 0E94 0000 		call SysInitIO
  78 0064 0E94 0000 		call SPIinit
  79 0068 0E94 0000 		call LedInit
  80 006c 0E94 0000 		call LcdLowLevelInit
  81 0070 0E94 0000 		call Uart0DriverInit
  82 0074 0E94 0000 		call Uart0DriverStart
  83 0078 0E94 0000 		call LogInit
  84 007c 80E0      		ldi r24,lo8(__c.2570)
  85 007e 90E0      		ldi r25,hi8(__c.2570)
  86 0080 9F93      		push r25
  87 0082 8F93      		push r24
  88 0084 16EC      		ldi r17,lo8(-58)
  89 0086 1F93      		push r17
  90 0088 0E94 0000 		call LogMsg_P
  91 008c 0E94 0000 		call CardInit
  92 0090 0E94 0000 		call X12Init
  93 0094 CE01      		movw r24,r28
  94 0096 0796      		adiw r24,7
  95 0098 0E94 0000 		call X12RtcGetClock
  96 009c 0F90      		pop __tmp_reg__
  97 009e 0F90      		pop __tmp_reg__
  98 00a0 0F90      	 	pop __tmp_reg__
  99 00a2 892B      		or r24,r25
 100 00a4 01F4      		brne .L4
 101 00a6 8F81      		ldd r24,Y+7
 102 00a8 9885      		ldd r25,Y+8
 103 00aa 9F93      		push r25
 104 00ac 8F93      		push r24
 105 00ae 8985      		ldd r24,Y+9
 106 00b0 9A85      		ldd r25,Y+10
 107 00b2 9F93      		push r25
 108 00b4 8F93      		push r24
 109 00b6 8B85      		ldd r24,Y+11
 110 00b8 9C85      		ldd r25,Y+12
 111 00ba 9F93      		push r25
 112 00bc 8F93      		push r24
GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 3


 113 00be 80E0      		ldi r24,lo8(__c.2572)
 114 00c0 90E0      		ldi r25,hi8(__c.2572)
 115 00c2 9F93      		push r25
 116 00c4 8F93      		push r24
 117 00c6 1F93      		push r17
 118 00c8 0E94 0000 		call LogMsg_P
 119 00cc 8DB7      		in r24,__SP_L__
 120 00ce 9EB7      		in r25,__SP_H__
 121 00d0 0996      		adiw r24,9
 122 00d2 0FB6      		in __tmp_reg__,__SREG__
 123 00d4 F894      		cli
 124 00d6 9EBF      		out __SP_H__,r25
 125 00d8 0FBE      		out __SREG__,__tmp_reg__
 126 00da 8DBF      		out __SP_L__,r24
 127               	.L4:
 128 00dc 0E94 0000 		call At45dbInit
 129 00e0 0E94 0000 		call RcInit
 130 00e4 0E94 0000 		call KbInit
 131 00e8 40E0      		ldi r20,lo8(0)
 132 00ea 50E0      		ldi r21,hi8(0)
 133 00ec 60E0      		ldi r22,lo8(gs(SysMainBeatInterrupt))
 134 00ee 70E0      		ldi r23,hi8(gs(SysMainBeatInterrupt))
 135 00f0 80E0      		ldi r24,lo8(sig_OVERFLOW0)
 136 00f2 90E0      		ldi r25,hi8(sig_OVERFLOW0)
 137 00f4 0E94 0000 		call NutRegisterIrqHandler
 138 00f8 892B      		or r24,r25
 139 00fa 01F4      		brne .L6
 140 00fc 85B5      		in r24,69-0x20
 141 00fe 8460      		ori r24,lo8(4)
 142 0100 85BD      		out 69-0x20,r24
 143 0102 A89A      		sbi 53-0x20,0
 144 0104 8091 6E00 		lds r24,110
 145 0108 8160      		ori r24,lo8(1)
 146 010a 8093 6E00 		sts 110,r24
 147               	.L6:
 148 010e 81E0      		ldi r24,lo8(1)
 149 0110 0E94 0000 		call NutThreadSetPriority
 150 0114 0E94 0000 		call WatchDogDisable
 151 0118 25E0      		ldi r18,lo8(5)
 152 011a 30E0      		ldi r19,hi8(5)
 153 011c 40E0      		ldi r20,lo8(0)
 154 011e 50E0      		ldi r21,hi8(0)
 155 0120 60E0      		ldi r22,lo8(gs(UartListener))
 156 0122 70E0      		ldi r23,hi8(gs(UartListener))
 157 0124 80E0      		ldi r24,lo8(.LC0)
 158 0126 90E0      		ldi r25,hi8(.LC0)
 159 0128 0E94 0000 		call NutThreadCreate
 160               	/* #APP */
 161 012c 7894      		sei
 162               	/* #NOAPP */
 163 012e 8BE5      		ldi r24,lo8(91)
 164 0130 0E94 0000 		call LcdChar
 165 0134 84E2      		ldi r24,lo8(36)
 166 0136 0E94 0000 		call LcdChar
 167 013a 8DE5      		ldi r24,lo8(93)
 168 013c 0E94 0000 		call LcdChar
 169 0140 88E4      		ldi r24,lo8(72)
GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 4


 170 0142 0E94 0000 		call LcdChar
 171 0146 85E6      		ldi r24,lo8(101)
 172 0148 0E94 0000 		call LcdChar
 173 014c 8CE6      		ldi r24,lo8(108)
 174 014e 0E94 0000 		call LcdChar
 175 0152 8CE6      		ldi r24,lo8(108)
 176 0154 0E94 0000 		call LcdChar
 177 0158 8FE6      		ldi r24,lo8(111)
 178 015a 0E94 0000 		call LcdChar
 179 015e 80E2      		ldi r24,lo8(32)
 180 0160 0E94 0000 		call LcdChar
 181 0164 8AE4      		ldi r24,lo8(74)
 182 0166 0E94 0000 		call LcdChar
 183 016a 81E0      		ldi r24,lo8(1)
 184 016c 0E94 0000 		call LcdBackLight
 185 0170 00E0      		ldi r16,lo8(0)
 186 0172 10E0      		ldi r17,hi8(0)
 187 0174 EE24      		clr r14
 188 0176 FF24      		clr r15
 189               	.L30:
 190 0178 0E94 0000 		call KbGetKey
 191 017c 8730      		cpi r24,lo8(7)
 192 017e 01F4      		brne .L9
 193 0180 80E0      		ldi r24,lo8(0)
 194 0182 0E94 0000 		call LcdBackLight
 195               	.L9:
 196 0186 0E94 0000 		call KbGetKey
 197 018a 8930      		cpi r24,lo8(9)
 198 018c 01F4      		brne .L11
 199 018e 81E0      		ldi r24,lo8(1)
 200 0190 0E94 0000 		call LcdBackLight
 201               	.L11:
 202 0194 0E94 0000 		call KbGetKey
 203 0198 8D30      		cpi r24,lo8(13)
 204 019a 01F4      		brne .L13
 205 019c DE01      		movw r26,r28
 206 019e 1196      		adiw r26,1
 207 01a0 E0E0      		ldi r30,lo8(.LC1)
 208 01a2 F0E0      		ldi r31,hi8(.LC1)
 209 01a4 86E0      		ldi r24,lo8(6)
 210               	.L15:
 211 01a6 0190      		ld r0,Z+
 212 01a8 0D92      		st X+,r0
 213 01aa 8150      		subi r24,lo8(-(-1))
 214 01ac 01F4      		brne .L15
 215 01ae 66E0      		ldi r22,lo8(6)
 216 01b0 70E0      		ldi r23,hi8(6)
 217 01b2 CE01      		movw r24,r28
 218 01b4 0196      		adiw r24,1
 219 01b6 0E94 0000 		call LcdWriteString
 220               	.L13:
 221 01ba 0E94 0000 		call KbGetKey
 222 01be 8630      		cpi r24,lo8(6)
 223 01c0 01F4      		brne .L16
 224 01c2 0E94 0000 		call LcdClear
 225               	.L16:
 226 01c6 64E6      		ldi r22,lo8(100)
GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 5


 227 01c8 70E0      		ldi r23,hi8(100)
 228 01ca 80E0      		ldi r24,hlo8(100)
 229 01cc 90E0      		ldi r25,hhi8(100)
 230 01ce 0E94 0000 		call NutSleep
 231 01d2 C801      		movw r24,r16
 232 01d4 69E1      		ldi r22,lo8(25)
 233 01d6 70E0      		ldi r23,hi8(25)
 234 01d8 0E94 0000 		call __divmodhi4
 235 01dc 0F5F      		subi r16,lo8(-(1))
 236 01de 1F4F      		sbci r17,hi8(-(1))
 237 01e0 892B      		or r24,r25
 238 01e2 01F4      		brne .L30
 239 01e4 EF28      		or r14,r15
 240 01e6 01F0      		breq .L19
 241 01e8 1F93      		push r17
 242 01ea 0F93      		push r16
 243 01ec 80E0      		ldi r24,lo8(__c.2579)
 244 01ee 90E0      		ldi r25,hi8(__c.2579)
 245 01f0 9F93      		push r25
 246 01f2 8F93      		push r24
 247 01f4 86EC      		ldi r24,lo8(-58)
 248 01f6 8F93      		push r24
 249 01f8 0E94 0000 		call LogMsg_P
 250 01fc 80E0      		ldi r24,lo8(0)
 251 01fe 0E94 0000 		call LcdBackLight
 252 0202 EE24      		clr r14
 253 0204 FF24      		clr r15
 254 0206 00C0      		rjmp .L29
 255               	.L19:
 256 0208 1F93      		push r17
 257 020a 0F93      		push r16
 258 020c 80E0      		ldi r24,lo8(__c.2581)
 259 020e 90E0      		ldi r25,hi8(__c.2581)
 260 0210 9F93      		push r25
 261 0212 8F93      		push r24
 262 0214 86EC      		ldi r24,lo8(-58)
 263 0216 8F93      		push r24
 264 0218 0E94 0000 		call LogMsg_P
 265 021c 81E0      		ldi r24,lo8(1)
 266 021e 0E94 0000 		call LcdBackLight
 267 0222 81E0      		ldi r24,lo8(1)
 268 0224 E82E      		mov r14,r24
 269 0226 F12C      		mov r15,__zero_reg__
 270               	.L29:
 271 0228 0F90      		pop __tmp_reg__
 272 022a 0F90      		pop __tmp_reg__
 273 022c 0F90      		pop __tmp_reg__
 274 022e 0F90      		pop __tmp_reg__
 275 0230 0F90      		pop __tmp_reg__
 276 0232 00C0      		rjmp .L30
 277               	/* epilogue: frame size=24 */
 278               	/* epilogue: noreturn */
 279               	/* epilogue end (size=0) */
 280               	/* function NutAppMain size 255 (241) */
 281               		.size	NutAppMain, .-NutAppMain
 282               		.type	SysMainBeatInterrupt, @function
 283               	SysMainBeatInterrupt:
GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 6


 284               	/* prologue: frame size=0 */
 285               	/* prologue end (size=0) */
 286 0234 0E94 0000 		call KbScan
 287 0238 0E94 0000 		call CardCheckCard
 288               	/* epilogue: frame size=0 */
 289 023c 0895      		ret
 290               	/* epilogue end (size=1) */
 291               	/* function SysMainBeatInterrupt size 5 (4) */
 292               		.size	SysMainBeatInterrupt, .-SysMainBeatInterrupt
 293               		.data
 294               	.LC2:
 295 000b 7265 7365 		.string	"reset"
 295      7400 
 296               		.text
 297               	.global	UartListener
 298               		.type	UartListener, @function
 299               	UartListener:
 300               	/* prologue: frame size=0 */
 301               	/* prologue end (size=0) */
 302 023e 0E94 0000 		call Uart0DriverGetStream
 303 0242 8C01      		movw r16,r24
 304               	.L34:
 305 0244 8AE0      		ldi r24,lo8(10)
 306 0246 90E0      		ldi r25,hi8(10)
 307 0248 0E94 0000 		call malloc
 308 024c EC01      		movw r28,r24
 309 024e A801      		movw r20,r16
 310 0250 6AE0      		ldi r22,lo8(10)
 311 0252 70E0      		ldi r23,hi8(10)
 312 0254 0E94 0000 		call fgets
 313 0258 B801      		movw r22,r16
 314 025a CE01      		movw r24,r28
 315 025c 0E94 0000 		call fputs
 316 0260 FE01      		movw r30,r28
 317 0262 0190      		ld __tmp_reg__,Z+
 318 0264 0020      		tst __tmp_reg__
 319 0266 01F4      		brne .-6
 320 0268 3297      		sbiw r30,2
 321 026a 1082      		st Z,__zero_reg__
 322 026c BE01      		movw r22,r28
 323 026e 80E0      		ldi r24,lo8(.LC2)
 324 0270 90E0      		ldi r25,hi8(.LC2)
 325 0272 0E94 0000 		call strcmp
 326 0276 892B      		or r24,r25
 327 0278 01F4      		brne .L35
 328 027a 0E94 0000 		call WatchDogEnable
 329 027e 6EE1      		ldi r22,lo8(30)
 330 0280 70E0      		ldi r23,hi8(30)
 331 0282 80E0      		ldi r24,hlo8(30)
 332 0284 90E0      		ldi r25,hhi8(30)
 333 0286 0E94 0000 		call WatchDogStart
 334               	.L37:
 335 028a 00C0      		rjmp .L37
 336               	.L35:
 337 028c CE01      		movw r24,r28
 338 028e 0E94 0000 		call free
 339 0292 00C0      		rjmp .L34
GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 7


 340               	/* epilogue: frame size=0 */
 341               	/* epilogue: noreturn */
 342               	/* epilogue end (size=0) */
 343               	/* function UartListener size 43 (43) */
 344               		.size	UartListener, .-UartListener
 345               		.section	.progmem.data,"a",@progbits
 346               		.type	__c.2581, @object
 347               		.size	__c.2581, 40
 348               	__c.2581:
 349 0000 576F 6F68 		.string	"Woohoo!, I'm still alive Joris ... [%d]"
 349      6F6F 212C 
 349      2049 276D 
 349      2073 7469 
 349      6C6C 2061 
 350               		.type	__c.2579, @object
 351               		.size	__c.2579, 23
 352               	__c.2579:
 353 0028 4865 6C6C 		.string	"Hellew! Raoul ... [%d]"
 353      6577 2120 
 353      5261 6F75 
 353      6C20 2E2E 
 353      2E20 5B25 
 354               		.type	__c.2572, @object
 355               		.size	__c.2572, 26
 356               	__c.2572:
 357 003f 5254 4320 		.string	"RTC time [%02d:%02d:%02d]"
 357      7469 6D65 
 357      205B 2530 
 357      3264 3A25 
 357      3032 643A 
 358               		.type	__c.2570, @object
 359               		.size	__c.2570, 20
 360               	__c.2570:
 361 0059 4865 6C6C 		.string	"Hello World and Jim"
 361      6F20 576F 
 361      726C 6420 
 361      616E 6420 
 361      4A69 6D00 
 362               	/* File "source/main.c": code  332 = 0x014c ( 316), prologues  14, epilogues   2 */
GAS LISTING /var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:3      *ABS*:0000003f __SREG__
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:4      *ABS*:0000003e __SP_H__
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:5      *ABS*:0000003d __SP_L__
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:6      *ABS*:00000000 __tmp_reg__
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:7      *ABS*:00000001 __zero_reg__
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:13     .text:00000000 SysInitIO
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:57     .text:0000003a NutAppMain
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:360    .progmem.data:00000059 __c.2570
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:356    .progmem.data:0000003f __c.2572
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:283    .text:00000234 SysMainBeatInterrupt
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:299    .text:0000023e UartListener
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:352    .progmem.data:00000028 __c.2579
/var/folders/_4/0gv1xzls4452yr8f8wz3qh880000gn/T//cc2lamUf.s:348    .progmem.data:00000000 __c.2581

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
WatchDogDisable
NutDelay
SPIinit
LedInit
LcdLowLevelInit
Uart0DriverInit
Uart0DriverStart
LogInit
LogMsg_P
CardInit
X12Init
X12RtcGetClock
At45dbInit
RcInit
KbInit
sig_OVERFLOW0
NutRegisterIrqHandler
NutThreadSetPriority
NutThreadCreate
LcdChar
LcdBackLight
KbGetKey
LcdWriteString
LcdClear
NutSleep
__divmodhi4
KbScan
CardCheckCard
Uart0DriverGetStream
malloc
fgets
fputs
strcmp
WatchDogEnable
WatchDogStart
free
